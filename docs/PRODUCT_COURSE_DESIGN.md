# AILingo 课程设计竞争力：产品经理优化方案

本文档从**产品经理 + 课程设计**视角，诊断当前「课程设计」的短板，并给出可落地的核心竞争力建设方案与优先级。  
目标：从「功能齐全但偏简陋」升级为「AI 教育细分里课程设计有辨识度、可复购」的产品。

---

## 一、当前课程设计能力速览

| 维度 | 已有 | 缺口（影响竞争力） |
|------|------|-------------------|
| **课程结构** | 知识节点（knowledge_nodes）、0→1 路径、难度 1–10、category、prerequisites | 节点标题/描述过于泛化（如「第 N 节」）；缺少**学习目标（Learning Objective）**；没有「阶段目标 / 模块目标」 |
| **单课设计** | 4 种卡片（概念、代码填空、选择、配对）、topic/difficulty/prerequisites | 无**本课学习目标**；无预估时长；卡片与目标未显式绑定；题型固定、缺少「为什么错」的选项级解析 |
| **评估设计** | 选择题有 explanation、代码填空有答案 | 无**通过标准**（如 80% 正确才算掌握）；无题目难度标定；无干扰项设计规范；无「错题本 / 薄弱点」 |
| **序列与路径** | 节点顺序、prerequisites（图）、路径槽位 | **前置未强约束**（完成前置才解锁）；无「推荐下一节」基于表现；无分轨（速成 / 系统 / 专题） |
| **个性化** | 智能复习（超过 N 天未复习）、每日答题 | 无**入门测/定级**；无「已掌握可跳过」；无按错误率调整题目难度或推荐复习内容 |
| **质量与一致性** | AI 生成 + 人工审核发布 | 无**课程设计规范（Rubric）**；无「目标–题目」对齐检查；无生成质量评分或 A/B |

---

## 二、核心竞争力定义（我们要做到什么）

在「AI 教育小众龙头」定位下，课程设计至少要具备以下**三条可感知的差异化**：

1. **目标清晰、可验证**  
   每一节/每一模块都有「学完能做什么」的**学习目标**，且练习与目标一一对应；用户和运营都能看到「本节目标 → 题目 → 掌握与否」。

2. **路径可信、有约束**  
   先修关系**真正生效**（没完成前置不能学下一节，或明确提示「建议先学 X」）；可选「速成路径 / 系统路径」；支持「从你当前水平」的推荐下一节。

3. **练习有标准、可纠偏**  
   有明确的**通过标准**（如本节 80% 正确或关键题全对）；错题有**选项级解析**（为什么错、正确思路）；薄弱点能反馈到复习与推荐。

在此基础上，再叠加你已有的「AI 生成 + 游戏化 + 知识图谱」，形成**课程设计**上的护城河。

---

## 三、产品方案与优先级

### P0：立刻补（1–2 周内可上线）

| 编号 | 方案 | 说明 | 落地要点 |
|------|------|------|----------|
| P0-1 | **每节/每节点增加「学习目标」** | 用户进入课时前看到「本节你将学会：…」；生成时 AI 必须输出 1–3 条可验证目标 | Schema：`learning_objectives: string[]`；生成 prompt 要求「每条目标可被本节练习检验」；Lesson 页顶部展示 |
| P0-2 | **前置强约束（或强提示）** | 路径上「未完成前置则下一节锁定或明显提示」 | API：GET learning-path 时按用户 progress 标记 `locked_reason: "prerequisite"`；前端锁图标 +「先完成：节点 A」 |
| P0-3 | **通过标准显式化** | 每节定义「完成条件」：如「至少 80% 正确」或「概念卡看完 + 测验通过」 | 可在 generated_lessons 或 cards 层加 `pass_threshold`（默认 0.8）；提交结果时算正确率，未达则不算 completed，可重做 |

### P1：短期（2–4 周）

| 编号 | 方案 | 说明 | 落地要点 |
|------|------|------|----------|
| P1-1 | **课程/节点大纲结构化** | 1000 节种子不再用「第 N 节」泛化标题，改为**真实知识点标题 + 简短描述 + 1 条模块目标** | 新种子或迁移：每节点有 `concept_name`、`description`、`learning_objective_summary`；或由 AI 按阶段批量生成「节点标题+目标」再写入 |
| P1-2 | **选择题干扰项与解析** | 选择题不仅「正确解释」，还要「错误选项为什么错」 | Schema：`options` 扩展为 `[{ text, is_correct, explanation }]` 或单独 `option_explanations`；生成 prompt 要求每个选项都有简短说明 |
| P1-3 | **推荐下一节** | 路径/学习页增加「推荐下一节」：优先「前置已完成且未学」；其次「智能复习」；再其次路径顺序 | API：GET `/api/learning-path/next` 或在学习路径 GET 里带 `recommended_next_node_id` / `recommended_next_lesson_id` |
| P1-4 | **单课预估时长** | 每节显示「约 X 分钟」 | 可由卡片数量与类型估算（如概念卡 1 分钟、选择 0.5 分钟、代码填空 2 分钟），或生成时 AI 输出 `estimated_minutes` |

### P2：中期（1–2 个月）

| 编号 | 方案 | 说明 | 落地要点 |
|------|------|------|----------|
| P2-1 | **入门测 / 定级（轻量）** | 新用户可选「先测再学」：5–10 题测当前水平，推荐起点节点或路径 | 新路由 `/onboarding/placement`；题目从现有题库或按难度抽样；根据正确率映射到「建议从第 N 阶段开始」 |
| P2-2 | **错题/薄弱点** | 记录错题与错选；「我的」里可看「错题回顾」或「薄弱知识点」 | 表：`question_attempts` 或复用 progress 的错题信息；API：GET 错题列表；前端：错题本入口 + 重做 |
| P2-3 | **课程设计 Rubric + 生成质量** | 对 AI 生成结果做「目标–题目」对齐检查；可选质量分 | 生成后或审核前：调用 AI 或规则检查「每一条 learning_objective 是否被至少一道题覆盖」；admin 展示质量分或警告 |
| P2-4 | **分轨路径** | 提供「速成路径」（最少节数到某个目标）与「系统路径」（当前 0→1 全量） | 路径数据或配置区分 path_type；前端 Tab 或入口切换「速成 / 系统」 |

### P3：长期（3 个月+）

| 编号 | 方案 | 说明 |
|------|------|------|
| P3-1 | 题目难度标定与自适应 | 题目带难度标签；根据用户历史正确率推荐更易/更难题目 |
| P3-2 | 掌握度可视化 | 按节点/主题展示「已掌握 / 需复习 / 未学」 |
| P3-3 | 模块/阶段目标与证书 | 完成某阶段后展示「阶段目标达成」或轻量证书 |

---

## 四、数据与 Schema 建议（便于实现 P0–P1）

以下为**最小增改**，与现有库兼容。

### 4.1 学习目标（每节）

- **generated_lessons** 或 lesson JSON 中增加：
  - `learning_objectives: string[]`（1–3 条，可验证）
  - 可选：`estimated_minutes: number`
  - 可选：`pass_threshold: number`（默认 0.8，即 80% 正确才算通过）

### 4.2 前置约束

- **learning-path** API 已具备节点与 progress；增加逻辑：
  - 对每个节点/课时判断：当前用户是否已完成其 `prerequisites` 对应课时；
  - 若未完成，返回 `locked: true`, `locked_reason: "prerequisite"`, `required_node_ids: [...]`。

### 4.3 选择题选项解析

- 在 **course-schema** 的 multiple_choice 中：
  - 要么 `options: Array<{ text: string, explanation?: string }>` + `correct_index`；
  - 要么保留 `options: string[]`，新增 `option_explanations: string[]`（与 options 一一对应）。
- 生成 prompt 中要求：每个选项都要有简短 explanation（正确为何对、错误为何错）。

### 4.4 知识节点增强（种子/管理后台）

- **knowledge_nodes** 已有 `title`, `description`, `concept_name`, `prerequisites`, `resources`；
- 建议增加（若尚无）：`learning_objective_summary: text`（本节点学完的概括性目标），用于路径页展示「学完能做什么」。

---

## 五、AI 生成侧改造要点（课程设计专家角色）

要让「课程设计」成为竞争力，生成环节需要从「能生成」升级为「按规范生成」。

1. **System prompt 升级**  
   - 明确要求：每节必须输出 1–3 条 **learning_objectives**，且每条都能被本节至少一道题检验。  
   - 选择题：每个选项附带一句 explanation（正确选项解释原理，错误选项指出误区）。  
   - 可选：输出 `estimated_minutes`、`pass_threshold`。

2. **Schema 扩展**  
   - 在 `generatedLessonOutputSchema` 中增加 `learning_objectives: z.array(z.string()).min(1).max(3)`；  
   - multiple_choice 增加选项级 explanation（见上）；  
   - 写入 DB 时写入新字段或 JSON 内新键。

3. **种子/节点质量**  
   - 1000 节种子可分批由 AI 生成「节点标题 + 一句话目标」，替换当前「【阶段】第 N 节」；或先做前 100 节精品，再逐步扩展。

---

## 六、验收标准（课程设计维度）

| 指标 | 说明 |
|------|------|
| **目标可见** | 每节学习页顶部展示「本节目标」；管理后台可筛「无目标」课时并补全 |
| **前置生效** | 未完成前置时，下一节为锁定状态或明显提示「建议先学 X」 |
| **通过有据** | 用户完成一节时，按 pass_threshold 判断是否通过；未通过可重做 |
| **选项可纠偏** | 选择题在解析中能展示「每个选项为什么对/错」 |
| **下一节可荐** | 学习页或路径页有「推荐下一节」，逻辑基于前置完成 + 复习建议 |

---

## 七、与现有文档的关系

- **GAP_ANALYSIS.md**：偏功能有无（API/表/页面）；本文档偏**课程设计专业度**与**学习科学**。
- **ONE_MONTH_LAUNCH.md**：偏增长与商业化；课程设计优化后可提升**留存与口碑**（「讲得清、路径靠谱、练得有标准」），支撑 DAU 与付费。
- 实现时：P0 可直接拆成 **Backlog** 给开发；P1–P3 按迭代排期。

---

## 八、给「产品经理」Agent 的快捷指令

在 Cursor 中可按需使用：

- **「按 docs/PRODUCT_COURSE_DESIGN.md 的 P0-1，在 course-schema 和生成 prompt 里增加 learning_objectives，并在 Lesson 页顶部展示。」**
- **「按 PRODUCT_COURSE_DESIGN 的 P0-2，在 learning-path API 中根据用户进度标记前置未完成节点的 locked 状态，前端显示锁定原因。」**
- **「按 PRODUCT_COURSE_DESIGN 的 P0-3 和 P1-2，为 generated_lessons 增加 pass_threshold，并为选择题增加选项级 explanation 的 schema 与生成逻辑。」**

---

**小结**：当前系统功能多但课程设计偏「有内容、少设计」。优先补**学习目标、前置约束、通过标准**三项，再补选项解析与推荐下一节，即可在 1–2 个月内建立起「课程设计」上的核心竞争力，与纯工具型 AI 学习产品拉开差距。
